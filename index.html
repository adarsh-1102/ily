<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Special Someone</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        body { background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%); min-height: 100vh; display: flex; justify-content: center; align-items: center; overflow-x: hidden; color: #333; padding: 20px; }
        .container { background: rgba(255, 255, 255, 0.95); border-radius: 20px; box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2); padding: 30px; width: 100%; max-width: 800px; text-align: center; position: relative; overflow: hidden; }
        .header { margin-bottom: 25px; }
        h1 { color: #ff6b6b; margin-bottom: 15px; font-size: 32px; text-shadow: 1px 1px 3px rgba(0,0,0,0.1); }
        .photo-container { width: 280px; height: 280px; margin: 20px auto; border-radius: 50%; overflow: hidden; box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15); transition: transform 0.5s; display: none; border: 5px solid #ff6b6b; }
        .photo { width: 100%; height: 100%; object-fit: cover; display: block; }
        .message { opacity: 0; transform: translateY(20px); transition: opacity 1s, transform 1s; margin-bottom: 20px; text-align: left; line-height: 1.6; padding: 15px; background: rgba(255, 107, 107, 0.1); border-radius: 10px; }
        .heart { color: #ff6b6b; }
        button { background: #ff6b6b; color: white; border: none; padding: 14px 28px; border-radius: 50px; cursor: pointer; font-size: 18px; transition: all 0.3s; margin: 15px 5px; outline: none; box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4); }
        button:hover { background: #ff4f4f; transform: translateY(-3px); box-shadow: 0 8px 20px rgba(255, 107, 107, 0.6); }
        button:active { transform: translateY(0); }
        .final-container { display: flex; align-items: flex-start; justify-content: center; gap: 30px; margin-top: 25px; display: none; }
        .final-text-container { flex: 1; text-align: left; padding-left: 20px; }
        .memory-container { display: none; background: rgba(255, 255, 255, 0.9); padding: 20px; border-radius: 15px; margin: 20px 0; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1); text-align: left; border-left: 4px solid #ff6b6b; }
        .hearts-container { position: absolute; width: 100%; height: 100%; top: 0; left: 0; pointer-events: none; z-index: 1; }
        .heart-shape { position: absolute; font-size: 22px; color: #ff6b6b; opacity: 0; animation: float 6s linear forwards; z-index: -1; }
        .music-control { position: fixed; bottom: 20px; right: 20px; background: #ff6b6b; color: white; width: 50px; height: 50px; border-radius: 50%; display: flex; justify-content: center; align-items: center; cursor: pointer; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); z-index: 100; }
        .progress-container { height: 8px; width: 100%; background: #f1f1f1; border-radius: 10px; margin: 20px 0; overflow: hidden; }
        .progress-bar { height: 100%; width: 0%; background: linear-gradient(to right, #ff9a9e, #fad0c4); transition: width 0.5s; }
        .hidden { display: none; }
        .typewriter { overflow: hidden; white-space: nowrap; margin: 0 auto; letter-spacing: 0.15em; }
        @keyframes float { 0% { transform: translateY(0) rotate(0deg); opacity: 0.7; } 100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; } }
        .signature { margin-top: 20px; font-style: italic; color: #ff6b6b; font-weight: bold; }
        .love-line { color: #ff6b6b; font-weight: bold; font-size: 22px; margin: 15px 0; min-height: 32px; }
        .highlight-love { color: #ff1a75; font-weight: bold; font-size: 26px; text-shadow: 1px 1px 5px rgba(255, 0, 100, 0.3); }
        @media (max-width: 768px) {
            .final-container { flex-direction: column; align-items: center; }
            .final-text-container { padding-left: 0; margin-top: 20px; }
            .photo-container { width: 200px; height: 200px; }
        }
        .cursor { display: inline-block; background-color: #ff6b6b; margin-left: 2px; width: 3px; animation: blink 1s infinite; }
        @keyframes blink { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
    </style>
</head>
<body>
    <div class="hearts-container" id="heartsContainer"></div>
    <div class="container">
        <div class="header">
            <h1>For Someone <span class="heart">Special</span></h1>
            <p>This is for you, Kaleshi Aurat...</p>
        </div>
        <div id="introMessage" class="message">
            <p>I created this little web for you...</p>
            <p>There's something I've been wanting to say for a while now.</p>
        </div>
        <div id="progressContainer" class="progress-container hidden">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <button id="startBtn">Click to Begin This Journey</button>
        <div id="interactiveSection" class="hidden">
            <p>Before I tell you what's in my mind, let's take a quick journey...</p>
            <button id="memoryBtn"><i class="fas fa-heart"></i> Remember our first meeting?</button>
            <button id="laughBtn"><i class="fas fa-laugh"></i> Your laughter is my favorite sound</button>
            <button id="continueBtn" class="hidden">Continue to next...?</button>
            <div id="memoryMessage" class="memory-container">
                <h3><i class="fas fa-heart"></i> Our First Meeting</h3>
                <p>I'll never forget the first time we met. It was a random day at school, and you walked in with that bright smile that lit up the entire room. I knew from that moment that you were someone special.</p>
            </div>
            <div id="laughMessage" class="memory-container">
                <h3><i class="fas fa-laugh"></i> Your Beautiful Laugh</h3>
                <p>Your laughter is like music to my ears. It's infectious and brightens even my darkest days. I find myself doing silly things just to hear you laugh, and it's always worth it.</p>
            </div>
        </div>
        <div id="finalContainer" class="final-container">
            <div class="photo-container" id="finalPhotoContainer">
                <img src="https://i.ibb.co/v4Sp8918/s1.jpg" alt="Our Memory" class="photo">
            </div>
            <div id="finalTextContainer" class="final-text-container"></div>
        </div>
        <div class="music-control hidden" id="musicControl">
            <i class="fas fa-pause"></i>
        </div>
        <audio id="bgMusic" loop>
            <source src="1.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
    </div>

    <script>
document.addEventListener('DOMContentLoaded', function() {
    const startBtn = document.getElementById('startBtn');
    const memoryBtn = document.getElementById('memoryBtn');
    const laughBtn = document.getElementById('laughBtn');
    const continueBtn = document.getElementById('continueBtn');
    const introMessage = document.getElementById('introMessage');
    const progressContainer = document.getElementById('progressContainer');
    const progressBar = document.getElementById('progressBar');
    const interactiveSection = document.getElementById('interactiveSection');
    const finalContainer = document.getElementById('finalContainer');
    const finalPhotoContainer = document.getElementById('finalPhotoContainer');
    const memoryMessage = document.getElementById('memoryMessage');
    const laughMessage = document.getElementById('laughMessage');
    const heartsContainer = document.getElementById('heartsContainer');
    const musicControl = document.getElementById('musicControl');
    const bgMusic = document.getElementById('bgMusic');
    const finalTextContainer = document.getElementById('finalTextContainer');

    function typeWriter(text, element, speed = 50, callback) {
        let i = 0;
        element.innerHTML = '';
        function type() {
            if (i < text.length) {
                element.innerHTML += text.charAt(i);
                i++;
                setTimeout(type, speed);
            } else if (callback) callback();
        }
        type();
    }

    function typeWriterHTMLSafe(htmlText, element, speed = 50, callback) {
        let temp = document.createElement('div');
        temp.innerHTML = htmlText;

        function typeNode(node, parent, done) {
            if (node.nodeType === Node.TEXT_NODE) {
                let i = 0;
                function typeChar() {
                    if (i < node.textContent.length) {
                        parent.append(node.textContent.charAt(i));
                        i++;
                        setTimeout(typeChar, speed);
                    } else done();
                }
                typeChar();
            } else if (node.nodeType === Node.ELEMENT_NODE) {
                const el = document.createElement(node.tagName);
                for (let attr of node.attributes) el.setAttribute(attr.name, attr.value);
                parent.appendChild(el);
                let children = Array.from(node.childNodes);
                function typeChildren(index) {
                    if (index < children.length) typeNode(children[index], el, () => typeChildren(index + 1));
                    else done();
                }
                typeChildren(0);
            }
        }

        let nodes = Array.from(temp.childNodes);
        function typeAll(index) {
            if (index < nodes.length) typeNode(nodes[index], element, () => typeAll(index + 1));
            else if (callback) callback();
        }
        typeAll(0);
    }

    function playMusic() {
        bgMusic.volume = 0.7;
        bgMusic.play().catch(err => console.log('Music play failed:', err));
        musicControl.classList.remove('hidden');
        musicControl.innerHTML = '<i class="fas fa-pause"></i>';
    }

    function createHearts() {
        setInterval(() => {
            const heart = document.createElement('div');
            heart.classList.add('heart-shape');
            heart.innerHTML = '❤';
            heart.style.left = Math.random() * 100 + '%';
            heart.style.animationDuration = (Math.random() * 4 + 3) + 's';
            heartsContainer.appendChild(heart);
            setTimeout(() => heart.remove(), 6000);
        }, 300);
    }

    startBtn.addEventListener('click', function() {
        introMessage.style.opacity = 1;
        introMessage.style.transform = 'translateY(0)';
        startBtn.classList.add('hidden');
        progressContainer.classList.remove('hidden');

        let width = 0;
        const interval = setInterval(() => {
            if (width >= 100) {
                clearInterval(interval);
                showInteractiveSection();
            } else {
                width++;
                progressBar.style.width = width + '%';
            }
        }, 30);
    });

    function showInteractiveSection() {
        progressContainer.classList.add('hidden');
        interactiveSection.classList.remove('hidden');
        createHearts();
    }

    memoryBtn.addEventListener('click', function() {
        memoryMessage.style.display = 'block';
        this.classList.add('clicked');
        this.style.opacity = '0.7';
        checkButtonsClicked();
    });

    laughBtn.addEventListener('click', function() {
        laughMessage.style.display = 'block';
        this.classList.add('clicked');
        this.style.opacity = '0.7';
        checkButtonsClicked();
    });

    function checkButtonsClicked() {
        if (memoryBtn.classList.contains('clicked') && laughBtn.classList.contains('clicked')) {
            continueBtn.classList.remove('hidden');
        }
    }

    continueBtn.addEventListener('click', function() {
        interactiveSection.classList.add('hidden');
        finalContainer.style.display = 'flex';
        finalPhotoContainer.style.display = 'block';
        playMusic();
        createHearts();

        const finalParagraphs = [
            "Heyy...this is Adarsh orr your Gadha and whatsoever....",
            "I know this is kinda out of the blue...but I think it's now or never....",
            "I think this is the time....",
            "<span class='highlight-love'>I love you Smriti....</span>",
            "I can't hold it anymore and also I don't wanna keep any regrets...",
            "Let me know your response on whatsapp"
        ];

        let idx = 0;
        function typeNext() {
            if (idx < finalParagraphs.length) {
                const p = document.createElement('p');
                finalTextContainer.appendChild(p);
                if (finalParagraphs[idx].includes('<span')) {
                    typeWriterHTMLSafe(finalParagraphs[idx], p, 80, () => { idx++; typeNext(); });
                } else {
                    typeWriter(finalParagraphs[idx], p, 80, () => { idx++; typeNext(); });
                }
            }
        }
        typeNext();
    });

    let musicPlaying = true;
    musicControl.addEventListener('click', function() {
        if (musicPlaying) {
            bgMusic.pause();
            musicControl.innerHTML = '<i class="fas fa-play"></i>';
        } else {
            bgMusic.play();
            musicControl.innerHTML = '<i class="fas fa-pause"></i>';
        }
        musicPlaying = !musicPlaying;
    });
});
</script>
</body>
</html>
